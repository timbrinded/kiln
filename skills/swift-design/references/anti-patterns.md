# AI-Generated SwiftUI Anti-Patterns

Telltale signs that SwiftUI code was generated by an AI without design awareness. Each anti-pattern includes what to flag, why it's a problem, and the correct alternative.

---

## Code-Level Anti-Patterns

### 1. Deprecated API Usage (The #1 Problem)

AI models default to training-data patterns, which lag behind Apple's latest APIs.

**What to flag:**
```swift
// NavigationView (deprecated iOS 16)
NavigationView { ... }

// ObservableObject pattern (superseded iOS 17)
class VM: ObservableObject {
    @Published var items: [Item] = []
}
@StateObject var vm = VM()

// .foregroundColor (deprecated)
.foregroundColor(.blue)

// .tabItem (superseded iOS 18)
.tabItem { Label("Home", systemImage: "house") }
```

**Fix:** See `references/deprecated-apis.md` for complete replacement guide.

---

### 2. NavigationStack Wrapping TabView

The single most common structural mistake in AI-generated code.

**What to flag:**
```swift
NavigationStack {
    TabView {
        HomeView()
        SettingsView()
    }
}
```

**Why it breaks:** Tab bar disappears during push navigation. Each tab loses its independent navigation state.

**Fix:**
```swift
TabView {
    Tab("Home", systemImage: "house") {
        NavigationStack { HomeView() }
    }
    Tab("Settings", systemImage: "gear") {
        NavigationStack { SettingsView() }
    }
}
```

---

### 3. .onTapGesture Instead of Button

**What to flag:**
```swift
Text("Submit")
    .padding()
    .background(.blue)
    .foregroundStyle(.white)
    .clipShape(RoundedRectangle(cornerRadius: 8))
    .onTapGesture { submit() }
```

**Why it breaks:** Invisible to VoiceOver. No keyboard support. No eye-tracking support. No press state.

**Fix:**
```swift
Button("Submit") { submit() }
    .buttonStyle(.borderedProminent)
// Or with custom appearance:
Button(action: submit) {
    Text("Submit")
        .padding()
        .background(.blue, in: RoundedRectangle(cornerRadius: 8))
        .foregroundStyle(.white)
}
```

---

### 4. Color.black / Color.white

**What to flag:**
```swift
Text("Title")
    .foregroundStyle(Color.black)
    .background(Color.white)
```

**Why it breaks:** Invisible in dark mode. Ignores high-contrast settings.

**Fix:**
```swift
Text("Title")
    .foregroundStyle(.primary)
    .background(Color(.systemBackground))
```

---

### 5. Hardcoded Font Sizes

**What to flag:**
```swift
Text("Title").font(.system(size: 24, weight: .bold))
Text("Body").font(.system(size: 16))
Text("Caption").font(.system(size: 12))
```

**Why it breaks:** Won't scale with Dynamic Type. Users with accessibility needs can't resize text.

**Fix:**
```swift
Text("Title").font(.title2).fontWeight(.bold)
Text("Body").font(.body)
Text("Caption").font(.caption)
```

---

### 6. SF Symbol .resizable()

**What to flag:**
```swift
Image(systemName: "star.fill")
    .resizable()
    .frame(width: 20, height: 20)
```

**Why it breaks:** Breaks baseline alignment with text. Doesn't scale with Dynamic Type.

**Fix:**
```swift
Image(systemName: "star.fill")
    .font(.body) // or .imageScale(.medium)
```

---

### 7. GeometryReader Overuse

**What to flag:**
```swift
GeometryReader { proxy in
    VStack {
        Text("Title")
            .frame(width: proxy.size.width * 0.8)
        Image("hero")
            .frame(width: proxy.size.width, height: proxy.size.width * 0.6)
    }
}
```

**Why it breaks:** GeometryReader proposes full available size to children, disrupting layout. It fills all available space, pushing siblings away.

**Fix:**
```swift
VStack {
    Text("Title")
        .frame(maxWidth: .infinity)
        .padding(.horizontal, 32) // 80% approximation

    Image("hero")
        .resizable()
        .containerRelativeFrame(.horizontal) // iOS 17+
        .aspectRatio(5/3, contentMode: .fit)
}
```

---

### 8. Missing View States

**What to flag:** Views that only handle the "content" state.

```swift
struct ItemListView: View {
    @State var items: [Item] = []

    var body: some View {
        List(items) { item in
            ItemRow(item: item)
        }
        .task { items = await fetchItems() }
    }
}
```

**Missing:** Loading state, empty state, error state.

**Fix:** See `references/component-patterns.md` — @Observable ViewModel Pattern section.

---

### 9. Inline Color Definitions

**What to flag:**
```swift
.background(Color(red: 0.2, green: 0.5, blue: 0.9))
.foregroundStyle(Color(hex: "#3498db"))
```

**Why it breaks:** No dark mode variant. No high-contrast variant. Inconsistent across the app.

**Fix:** Define in Asset Catalog with semantic name and both appearance variants. Reference as `Color("BrandPrimary")`.

---

### 10. Missing Accessibility

**What to flag:**
- Icon-only buttons without `.accessibilityLabel()`
- Decorative images without `.accessibilityHidden(true)`
- `.onTapGesture` on non-Button views
- No `@Environment(\.accessibilityReduceMotion)` check with animations
- Tap targets < 44×44pt

AI-generated code almost never includes accessibility attributes unprompted.

---

## Design-Level Anti-Patterns

### 11. Generic Card Grid

**Pattern:** Identical cards in a 2-column grid with identical border-radius, identical padding, identical shadow.

**Why it's a problem:** Creates visual monotony. No hierarchy — everything has equal weight. This is the "AI look."

**Fix:**
- Vary card sizes for visual interest
- Create hierarchy — feature one item larger
- Use `List` with standard rows for simple collections
- Reserve cards for content that benefits from containment (images, media)

---

### 12. Gradient Backgrounds

**What to flag:** Full-screen gradient backgrounds, gradient-filled buttons, gradient text — especially when used everywhere.

**Why it's a problem:** Native iOS apps rarely use gradients on backgrounds. This is a hallmark of AI-generated and Figma-to-code output.

**Fix:**
- Use flat semantic backgrounds: `Color(.systemBackground)`, `Color(.secondarySystemBackground)`
- Gradients are acceptable sparingly: status indicators, charts, hero images
- If the brand requires gradients, use them consistently in one place

---

### 13. Missing Haptic Feedback

**What to flag:** Interactive elements with no `.sensoryFeedback()` modifiers.

**Why it's a problem:** Haptics are a core part of the iOS experience. Their absence makes the app feel "hollow."

**Fix:** Add appropriate haptics:
- Toggle/selection: `.sensoryFeedback(.selection, trigger:)`
- Task completion: `.sensoryFeedback(.success, trigger:)`
- Destructive action: `.sensoryFeedback(.warning, trigger:)`

---

### 14. No Animation

**What to flag:** State changes with no `withAnimation` or `.animation()` modifiers.

**Why it's a problem:** Every state transition in native iOS apps is animated. Instant changes feel broken.

**Fix:** Wrap state changes in `withAnimation(.spring())` or apply `.animation(.spring(), value:)` to views.

---

### 15. Hamburger Menu on iOS

**What to flag:** Side drawer / hamburger menu as primary navigation on iPhone.

**Why it's a problem:** iOS uses bottom tab bars. Hamburger menus hide navigation, increase tap cost, and feel like an Android/web pattern.

**Fix:** Use `TabView` with 2–5 tabs. Move secondary items to a "More" tab or settings.

---

### 16. Equal Visual Weight

**What to flag:** Screens where every element has the same size, weight, and color.

**Why it's a problem:** No visual hierarchy means the user can't scan the screen efficiently. Nothing feels important.

**Fix:**
- Make the primary element larger/bolder
- Dim secondary content with `.secondary` or `.tertiary` foreground style
- Use size and weight to create 2–3 clear hierarchy levels
- Add whitespace to separate groups

---

### 17. Inter Font (or Other Non-System Fonts for UI)

**What to flag:** Non-SF Pro fonts used for navigation titles, tab labels, list rows, buttons — any UI chrome.

**Why it's a problem:** SF Pro is optimized for iOS rendering, Dynamic Type, and system integration. Substituting it breaks optical alignment and feels non-native.

**Fix:** Use system font (`.font(.body)` etc.) for all UI elements. Reserve custom fonts for branded content areas if needed.

---

## Detection Priority

When reviewing AI-generated code, check in this order:

1. **Deprecated APIs** (M1–M6) — highest signal, easiest to detect
2. **Structural mistakes** (P2: NavigationStack/TabView) — breaks functionality
3. **Accessibility missing** (A1–A7) — impacts real users
4. **Hardcoded colors** (C1–C2) — breaks dark mode
5. **Hardcoded fonts** (T1) — breaks Dynamic Type
6. **Missing states** (empty/loading/error) — incomplete UX
7. **No animation/haptics** — feels lifeless
8. **Design monotony** (card grids, equal weight) — feels generic
